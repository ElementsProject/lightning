{
  "$schema": "../rpc-schema-draft.json",
  "type": "object",
  "rpc": "signpsbt",
  "title": "Command to sign a wallet's inputs on a provided bitcoin transaction (PSBT).",
  "description": [
    "**signpsbt** is a low-level RPC command which signs a PSBT as defined by BIP-174.",
    "",
    "By default, all known inputs are signed, and others ignored: with *signonly*, only those inputs are signed, and an error is returned if one of them cannot be signed.",
    "",
    "Note that the command will fail if there are no inputs to sign, or if the inputs to be signed were not previously reserved."
  ],
  "request": {
    "required": [
      "psbt"
    ],
    "additionalProperties": false,
    "properties": {
      "psbt": {
        "type": "string",
        "description": [
          "The psbt to be signed."
        ]
      },
      "signonly": {
        "type": "array",
        "description": [
          "Input numbers to sign."
        ],
        "items": {
          "type": "u32"
        }
      }
    }
  },
  "response": {
    "required": [
      "signed_psbt"
    ],
    "additionalProperties": false,
    "properties": {
      "signed_psbt": {
        "type": "string",
        "description": [
          "The fully signed PSBT."
        ]
      }
    }
  },
  "errors": [
    "On failure, one of the following error codes may be returned:",
    "",
    "- -32602: Error in given parameters, or there aren't wallet's inputs to sign, or we couldn't sign all of *signonly*, or inputs are not reserved."
  ],
  "author": [
    "Vincenzo Palazzo <<vincenzo.palazzo@protonmail.com>> wrote the initial version of this man page,",
    "but many others did the hard work of actually implementing this rpc command."
  ],
  "see_also": [
    "lightning-fundpsbt(7)",
    "lightning-sendpsbt(7)"
  ],
  "resources": [
    "Main web site: <https://github.com/ElementsProject/lightning>"
  ],
  "examples": [
    {
      "request": {
        "id": "example:signpsbt#1",
        "method": "signpsbt",
        "params": {
          "psbt": "cHNidP8BAgQCAAAAAQMEmgAAAAEEAQEBBQECAQYBAwH7BAIAAAAAAQBxAgAAAAH7CdSDiNRK3tlKgYtNIUmQSJWLgE5Evlcb09JxAjW4egEAAAAA/f///wIAwusLAAAAABYAFAPP7IcV4fQEo27AEeQjj4Yyn5CcBhP00gAAAAAWABQijAzMA5X3Ec5AzhgdLZtnmTqh7YcAAAABAR8AwusLAAAAABYAFAPP7IcV4fQEo27AEeQjj4Yyn5CcAQ4g8XN4MRmL6kPpMsgk9fPi+WJWotGhushvL/SXVnKJnZ0BDwQAAAAAARAE/f///wz8CWxpZ2h0bmluZwEIEu/Rzf4eie4AAQMIQVncCwAAAAABBCJRIDvhN+WjzUt2EEWojAco0yQ1GDbwTtWd/aN5uNhGRlK3DPwJbGlnaHRuaW5nAQgU79HN/h6J7gABAwhAQg8AAAAAAAEEIgAgybxcBjyu+/emx4FEB7Vie0+BqLVuy+kyxoL5y6wNGd8M/AlsaWdodG5pbmcBCJlh/FQRnSXyAA=="
        }
      },
      "response": {
        "signed_psbt": "cHNidP8BAgQCAAAAAQMEmgAAAAEEAQEBBQECAQYBAwH7BAIAAAAAAQBxAgAAAAH7CdSDiNRK3tlKgYtNIUmQSJWLgE5Evlcb09JxAjW4egEAAAAA/f///wIAwusLAAAAABYAFAPP7IcV4fQEo27AEeQjj4Yyn5CcBhP00gAAAAAWABQijAzMA5X3Ec5AzhgdLZtnmTqh7YcAAAABAR8AwusLAAAAABYAFAPP7IcV4fQEo27AEeQjj4Yyn5CcIgICRz15z0oQ57qDTAJqrEPqGLCn+3Xs2lGEv6+oxGYV9rdHMEQCID20o7OkdrA186bhtl5XxvomAgLw5qTckxZ94vSI8teaAiAIfpvcxym7FktDtx2ApNv/Tgz0EOxLEtpXp8HgO8/pqQEiBgJHPXnPShDnuoNMAmqsQ+oYsKf7dezaUYS/r6jEZhX2twgDz+yHAAAAAAEOIPFzeDEZi+pD6TLIJPXz4vliVqLRobrIby/0l1ZyiZ2dAQ8EAAAAAAEQBP3///8M/AlsaWdodG5pbmcBCBLv0c3+HonuAAEDCEFZ3AsAAAAAAQQiUSA74Tflo81LdhBFqIwHKNMkNRg28E7Vnf2jebjYRkZStyEHE0cioCqqq2UZ2npxQi9Q6DXNZheODM6F4GjHHS3XScEJAG/ctUwEAAAADPwJbGlnaHRuaW5nAQgU79HN/h6J7gABAwhAQg8AAAAAAAEEIgAgybxcBjyu+/emx4FEB7Vie0+BqLVuy+kyxoL5y6wNGd8M/AlsaWdodG5pbmcBCJlh/FQRnSXyAA=="
      }
    },
    {
      "request": {
        "id": "example:signpsbt#2",
        "method": "signpsbt",
        "params": [
          "cHNidP8BAgQCAAAAAQMEmgAAAAEEAQEBBQECAQYBAwH7BAIAAAAAAQBxAgAAAAH7CdSDiNRK3tlKgYtNIUmQSJWLgE5Evlcb09JxAjW4egEAAAAA/f///wIAwusLAAAAABYAFAPP7IcV4fQEo27AEeQjj4Yyn5CcBhP00gAAAAAWABQijAzMA5X3Ec5AzhgdLZtnmTqh7YcAAAABAR8AwusLAAAAABYAFAPP7IcV4fQEo27AEeQjj4Yyn5CcAQ4g8XN4MRmL6kPpMsgk9fPi+WJWotGhushvL/SXVnKJnZ0BDwQAAAAAARAE/f///wz8CWxpZ2h0bmluZwEIGu/Rzf4eie4AAQMIYg3NCwAAAAABBCJRIMkYPt6RIfPG/RSYgixHp2AnMidmnJCVCIQ7rFu9gT9oDPwJbGlnaHRuaW5nAQgc79HN/h6J7gABAwiAhB4AAAAAAAEEIgAgybxcBjyu+/emx4FEB7Vie0+BqLVuy+kyxoL5y6wNGd8M/AlsaWdodG5pbmcBCJth/FQRnSXyAA=="
        ]
      },
      "response": {
        "signed_psbt": "cHNidP8BAgQCAAAAAQMEmgAAAAEEAQEBBQECAQYBAwH7BAIAAAAAAQBxAgAAAAH7CdSDiNRK3tlKgYtNIUmQSJWLgE5Evlcb09JxAjW4egEAAAAA/f///wIAwusLAAAAABYAFAPP7IcV4fQEo27AEeQjj4Yyn5CcBhP00gAAAAAWABQijAzMA5X3Ec5AzhgdLZtnmTqh7YcAAAABAR8AwusLAAAAABYAFAPP7IcV4fQEo27AEeQjj4Yyn5CcIgICRz15z0oQ57qDTAJqrEPqGLCn+3Xs2lGEv6+oxGYV9rdHMEQCIFl+CUBKJcswA/8DnqzPrYolo0k0uUfRJv60eB4niMmJAiA169wRBmliX5GL7+hqb2OHZ5i81V0lkIJylHfvkn933QEiBgJHPXnPShDnuoNMAmqsQ+oYsKf7dezaUYS/r6jEZhX2twgDz+yHAAAAAAEOIPFzeDEZi+pD6TLIJPXz4vliVqLRobrIby/0l1ZyiZ2dAQ8EAAAAAAEQBP3///8M/AlsaWdodG5pbmcBCBrv0c3+HonuAAEDCGINzQsAAAAAAQQiUSDJGD7ekSHzxv0UmIIsR6dgJzInZpyQlQiEO6xbvYE/aCEHn35PoCbJlSMQ2fFCjyoCQfQi72lK/cajhKIKcycdYWwJABIqDc8FAAAADPwJbGlnaHRuaW5nAQgc79HN/h6J7gABAwiAhB4AAAAAAAEEIgAgybxcBjyu+/emx4FEB7Vie0+BqLVuy+kyxoL5y6wNGd8M/AlsaWdodG5pbmcBCJth/FQRnSXyAA=="
      }
    }
  ]
}
