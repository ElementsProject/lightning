--- /tmp/before	2025-07-04 12:19:40.348903068 +0930
+++ /tmp/after	2025-07-04 12:35:20.404266734 +0930
@@ -20,6 +20,25 @@
 tlvdata,offer,offer_quantity_max,max,tu64,
 tlvtype,offer,offer_issuer_id,22
 tlvdata,offer,offer_issuer_id,id,point,
+tlvtype,offer,offer_recurrence_compulsory,1000000024
+tlvdata,offer,offer_recurrence_compulsory,recurrence,recurrence,
+tlvtype,offer,offer_recurrence_optional,1000000025
+tlvdata,offer,offer_recurrence_optional,recurrence,recurrence,
+tlvtype,offer,offer_recurrence_base,1000000026
+tlvdata,offer,offer_recurrence_base,recurrence_base,recurrence_base,
+tlvtype,offer,offer_recurrence_paywindow,1000000027
+tlvdata,offer,offer_recurrence_paywindow,recurrence_paywindow,recurrence_paywindow,
+tlvtype,offer,offer_recurrence_limit,1000000029
+tlvdata,offer,offer_recurrence_limit,max_period_index,tu32,
+subtype,recurrence
+subtypedata,recurrence,time_unit,byte,
+subtypedata,recurrence,period,tu32,
+subtype,recurrence_base
+subtypedata,recurrence_base,proportional_amount,byte,
+subtypedata,recurrence_base,basetime,tu64,
+subtype,recurrence_paywindow
+subtypedata,recurrence_paywindow,seconds_before,u32,
+subtypedata,recurrence_paywindow,seconds_after,tu32,
 tlvtype,invoice_request,invreq_metadata,0
 tlvdata,invoice_request,invreq_metadata,blob,byte,...
 tlvtype,invoice_request,offer_chains,2
@@ -44,6 +63,16 @@
 tlvdata,invoice_request,offer_quantity_max,max,tu64,
 tlvtype,invoice_request,offer_issuer_id,22
 tlvdata,invoice_request,offer_issuer_id,id,point,
+tlvtype,invoice_request,offer_recurrence_compulsory,1000000024
+tlvdata,invoice_request,offer_recurrence_compulsory,recurrence,recurrence,
+tlvtype,invoice_request,offer_recurrence_optional,1000000025
+tlvdata,invoice_request,offer_recurrence_optional,recurrence,recurrence,
+tlvtype,invoice_request,offer_recurrence_base,1000000026
+tlvdata,invoice_request,offer_recurrence_base,recurrence_base,recurrence_base,
+tlvtype,invoice_request,offer_recurrence_paywindow,1000000027
+tlvdata,invoice_request,offer_recurrence_paywindow,recurrence_paywindow,recurrence_paywindow,
+tlvtype,invoice_request,offer_recurrence_limit,1000000029
+tlvdata,invoice_request,offer_recurrence_limit,max_period_index,tu32,
 tlvtype,invoice_request,invreq_chain,80
 tlvdata,invoice_request,invreq_chain,chain,chain_hash,
 tlvtype,invoice_request,invreq_amount,82
@@ -59,12 +88,19 @@
 tlvtype,invoice_request,invreq_paths,90
 tlvdata,invoice_request,invreq_paths,paths,blinded_path,...
 tlvtype,invoice_request,invreq_bip_353_name,91
-tlvdata,invoice_request,invreq_bip_353_name,name_len,u8,
-tlvdata,invoice_request,invreq_bip_353_name,name,byte,name_len
-tlvdata,invoice_request,invreq_bip_353_name,domain_len,u8,
-tlvdata,invoice_request,invreq_bip_353_name,domain,byte,domain_len
+tlvdata,invoice_request,invreq_bip_353_name,bip_353_name,bip_353_name,
+tlvtype,invoice_request,invreq_recurrence_counter,2000000092
+tlvdata,invoice_request,invreq_recurrence_counter,counter,tu32,
+tlvtype,invoice_request,invreq_recurrence_start,2000000093
+tlvdata,invoice_request,invreq_recurrence_start,period_offset,tu32,
+tlvtype,invoice_request,invreq_recurrence_cancel,2000000094
 tlvtype,invoice_request,signature,240
 tlvdata,invoice_request,signature,sig,bip340sig,
+subtype,bip_353_name
+subtypedata,bip_353_name,name_len,u8,
+subtypedata,bip_353_name,name,byte,name_len
+subtypedata,bip_353_name,domain_len,u8,
+subtypedata,bip_353_name,domain,byte,domain_len
 tlvtype,invoice,invreq_metadata,0
 tlvdata,invoice,invreq_metadata,blob,byte,...
 tlvtype,invoice,offer_chains,2
@@ -89,6 +125,16 @@
 tlvdata,invoice,offer_quantity_max,max,tu64,
 tlvtype,invoice,offer_issuer_id,22
 tlvdata,invoice,offer_issuer_id,id,point,
+tlvtype,invoice,offer_recurrence_compulsory,1000000024
+tlvdata,invoice,offer_recurrence_compulsory,recurrence,recurrence,
+tlvtype,invoice,offer_recurrence_optional,1000000025
+tlvdata,invoice,offer_recurrence_optional,recurrence,recurrence,
+tlvtype,invoice,offer_recurrence_base,1000000026
+tlvdata,invoice,offer_recurrence_base,recurrence_base,recurrence_base,
+tlvtype,invoice,offer_recurrence_paywindow,1000000027
+tlvdata,invoice,offer_recurrence_paywindow,recurrence_paywindow,recurrence_paywindow,
+tlvtype,invoice,offer_recurrence_limit,1000000029
+tlvdata,invoice,offer_recurrence_limit,max_period_index,tu32,
 tlvtype,invoice,invreq_chain,80
 tlvdata,invoice,invreq_chain,chain,chain_hash,
 tlvtype,invoice,invreq_amount,82
@@ -104,10 +150,11 @@
 tlvtype,invoice,invreq_paths,90
 tlvdata,invoice,invreq_paths,paths,blinded_path,...
 tlvtype,invoice,invreq_bip_353_name,91
-tlvdata,invoice,invreq_bip_353_name,name_len,u8,
-tlvdata,invoice,invreq_bip_353_name,name,byte,name_len
-tlvdata,invoice,invreq_bip_353_name,domain_len,u8,
-tlvdata,invoice,invreq_bip_353_name,domain,byte,domain_len
+tlvdata,invoice,invreq_bip_353_name,bip_353_name,bip_353_name,
+tlvtype,invoice,invreq_recurrence_counter,2000000092
+tlvdata,invoice,invreq_recurrence_counter,counter,tu32,
+tlvtype,invoice,invreq_recurrence_start,2000000093
+tlvdata,invoice,invreq_recurrence_start,period_offset,tu32,
 tlvtype,invoice,invoice_paths,160
 tlvdata,invoice,invoice_paths,paths,blinded_path,...
 tlvtype,invoice,invoice_blindedpay,162
@@ -126,6 +173,8 @@
 tlvdata,invoice,invoice_features,features,byte,...
 tlvtype,invoice,invoice_node_id,176
 tlvdata,invoice,invoice_node_id,node_id,point,
+tlvtype,invoice,invoice_recurrence_basetime,3000000177
+tlvdata,invoice,invoice_recurrence_basetime,basetime,tu64,
 tlvtype,invoice,signature,240
 tlvdata,invoice,signature,sig,bip340sig,
 subtype,blinded_payinfo
